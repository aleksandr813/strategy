```markdown
# API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–π –∏–≥—Ä—ã "strategy"

API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —á–∞—Ç–∞ –≤ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–π –∏–≥—Ä–µ.

## –ë–∞–∑–æ–≤—ã–π URL

```
###  –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å–≤—É–µ—Ç
```

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: HTTP
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON
- **–¢–∏–ø –∑–∞–ø—Ä–æ—Å–æ–≤**: GET (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ —Ç–æ–∫–µ–Ω—É. –¢–æ–∫–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `token`.

## –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```typescript
{
    "result": "ok",
    "data": T // –î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞
}
```

### –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
```typescript
{
    "result": "error",
    "error": {
        "code": number,    // –ö–æ–¥ –æ—à–∏–±–∫–∏
        "text": string     // –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
    }
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
```typescript
{
    "id": number,      // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "token": string,   // –¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    "name": string     // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}
```

### –°–æ–æ–±—â–µ–Ω–∏–µ (Message)
```typescript
{
    "message": string,  // –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
    "author": string,   // –ò–º—è –∞–≤—Ç–æ—Ä–∞
    "created": string   // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
}
```

## –ú–µ—Ç–æ–¥—ã API

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`login`)

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
{
    "login": string,    // –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "hash": string,     // –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞: md5(md5(login + password) + rnd)
    "rnd": number       // –°–ª—É—á–∞–π–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```typescript
Answer<User>
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `1002` - –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `1005` - –ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω

---

#### –í—ã—Ö–æ–¥ (`logout`)

–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
{
    "token": string    // –¢–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```typescript
Answer<true>
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `1003` - –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å

---

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (`registration`)

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
{
    "login": string,    // –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "password": string, // –•–µ—à –ø–∞—Ä–æ–ª—è: md5(login + password)
    "name": string      // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```typescript
Answer<User>
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `1001` - –¢–∞–∫–æ–π –ª–æ–≥–∏–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `1004` - –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### üí¨ –ß–∞—Ç

#### –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (`sendMessage`)

–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏–≥—Ä–æ–≤–æ–π —á–∞—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
{
    "token": string,    // –¢–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "message": string   // –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```typescript
Answer<true>
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `705` - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

---

#### –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è (`getMessages`)

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —á–∞—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ö–µ—à –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```typescript
{
    "token": string,    // –¢–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    "hash": string      // –•–µ—à-—Å—É–º–º–∞ —á–∞—Ç–∞
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–µ—Å—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è):**
```typescript
Answer<{
    "messages": Message[],  // –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
    "hash": string          // –ù–æ–≤—ã–π —Ö–µ—à —á–∞—Ç–∞
}>
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–Ω–µ—Ç –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π):**
```typescript
Answer<{
    "hash": string          // –ù–æ–≤—ã–π —Ö–µ—à —á–∞—Ç–∞
}>
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `705` - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

---

## –û–±—â–∏–µ –æ—à–∏–±–∫–∏ API

- `101` - –ù–µ –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `method`
- `102` - –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `method`
- `242` - –ù–µ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ó–∞–ø—Ä–æ—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
```
–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å–≤—É–µ—Ç
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "result": "ok",
    "data": {
        "id": 1,
        "token": "abc123def456",
        "name": "–ò–≥—Ä–æ–∫1"
    }
}
```

---

