# Баг-репорт - Механика столкновений

**Статус:** Открыт  
**Приоритет:** Высокий  
**Дата начала:** 18.11.2025  
**Дата окончания:**    
**Environment:** Google Chrome (последняя версия)   

## Описание

Центральные юниты в плотных группах (например, в формации 3x3) остаются на месте при массовом перемещении, в то время как периферийные юниты успешно двигаются к цели. Проблема возникает из-за того, что система коллизий рассчитывает пути для всех юнитов одновременно, не учитывая, что движение внешних юнитов освобождает пространство для внутренних.

## Предусловия

1. Открыт менеджмент деревни
2. Создана плотная группа юнитов (например, формация 3x3)

## Шаги воспроизведения

1. Создать плотную группу из 9 юнитов в формации 3x3
2. Выделить всех 9 юнитов
3. Назначить точку перемещения в любое свободное место на карте
4. Наблюдать за движением группы

## Фактический результат

- 8 периферийных юнитов успешно начинают движение к цели
- Центральный юнит остается на своем месте
- Центральный юнит полностью игнорирует команду перемещения
- Для освобождения центрального юнита требуется:
  - Ручное выделение только этого юнита
  - Или Повторная команда отправки всех юнитов в другое место 
- Проблема воспроизводится в 100% случаев с плотными группами

## Ожидаемый результат

- Все 9 юнитов должны начать движение к указанной точке
- Центральный юнит должен дождаться освобождения пространства соседями и последовать за ними
- Система должна динамически пересчитывать пути по мере движения группы
- Вся выделенная группа должна успешно завершить перемещение
