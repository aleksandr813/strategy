# Тест-кейс «Механика столкновений юнитов» - №14_04

| **ID** | **Описание** | **Приоритет** | **Предусловия** | **Шаги воспроизведения** | **Ожидаемый результат** |
| :-: | :-: | :-: | :-: | :-: | :-: |
| **04_01** | Столкновение союзных юнитов при движении | Высокий | 1. Открыт менеджмент деревни<br>2. На карте есть 2+ союзных юнита | 1. Поставить юнитов близко друг к другу<br>2. Направить одного юнита двигаться через другого<br>3. Наблюдать за взаимодействием | 1. Юниты не могут проходить сквозь друг друга<br>2. Движущийся юнит останавливается перед другим юнитом<br>3. Юниты сохраняют физическое присутствие |
| **04_02** | Обход зданий союзными юнитами | Высокий | 1. Открыт менеджмент деревни<br>2. На карте есть здание и союзный юнит | 1. Разместить юнита перед зданием<br>2. Назначить точку перемещения за зданием<br>3. Наблюдать за движением юнита | 1. Юнит автоматически обходит здание по доступному пути<br>2. Не пытается пройти сквозь здание<br>3. Достигает цели назначения по обходному маршруту |
| **04_03** | Столкновение вражеских юнитов в бою | Высокий | 1. На карте сражения<br>2. Присутствуют вражеские юниты обеих сторон | 1. Направить юнитов друг на друга<br>2. Дождаться их сближения<br>3. Наблюдать за столкновением | 1. Юниты останавливаются при соприкосновении<br>2. Начинают атаковать друг друга<br>3. Не проходят сквозь вражеские юниты<br>4. Сохраняют боевое расстояние |
| **04_04** | Групповое движение через узкие проходы | Средний | 1. Открыт менеджмент деревни<br>2. Создан узкий проход между зданиями (1 клетка)<br>3. Группа из 5+ юнитов | 1. Выделить группу юнитов<br>2. Назначить точку перемещения за узким проходом<br>3. Наблюдать за движением группы | 1. Юниты проходят через проход по одному<br>2. Происходит очередность при прохождении<br>3. Не возникает вечных блокировок<br>4. Все юниты eventually достигают цели |
| **04_05** | Обход сложных препятствий | Средний | 1. Открыт менеджмент деревни<br>2. Создана сложная структура из нескольких зданий<br>3. Есть союзный юнит | 1. Разместить юнита с одной стороны препятствий<br>2. Назначить точку с противоположной стороны<br>3. Наблюдать за поиском пути | 1. Юнит находит обходной путь вокруг препятствий<br>2. Не застревает в тупиках<br>3. Использует алгоритм EasyStar для навигации<br>4. Достигает цели за разумное время |
| **04_06** | Поведение при полной блокировке пути | Низкий | 1. Открыт менеджмент деревни<br>2. Юнит полностью окружен другими юнитами/зданиями | 1. Попытаться направить заблокированного юнита в движение<br>2. Наблюдать за реакцией<br>3. Освободить путь и повторить команду | 1. Заблокированный юнит остается на месте<br>2. Не предпринимает бессмысленных попыток движения<br>3. После освобождения пути начинает движение к цели |
| **04_07** | Столкновение разных типов юнитов | Средний | 1. На карте сражения<br>2. Присутствуют разные типы юнитов (мечники, лучники, кавалерия) | 1. Направить разнотипные юниты друг на друга<br>2. Наблюдать за механикой столкновений<br>3. Проверить взаимодействие больших и малых юнитов | 1. Все типы юнитов подчиняются общим правилам столкновений<br>2. Крупные юниты не "продавливают" мелких<br>3. Сохраняется баланс и предсказуемость физики |
| **04_08** | Обход углов зданий | Средний | 1. Открыт менеджмент деревни<br>2. Юнит расположен вплотную к углу здания<br>3. Есть цель перемещения за углом | 1. Направить юнита к цели за углом здания<br>2. Наблюдать за маневром обхода угла<br>3. Измерить время выполнения маневра | 1. Юнит плавно обходит угол здания<br>2. Не застревает в угловой точке<br>3. Сохраняет естественную траекторию движения<br>4. Время обхода соответствует скорости юнита |
