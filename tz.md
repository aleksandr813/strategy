# Техническое задание
# "strategy"
Версия 1.0

## Содержание:
1. Термины и определения
2. Цели и задачи
3. вход в игру
  3.1 Экран входа
  3.2 Экран регистрации
4. интерфейс  
  4.1 Главное меню
  4.2 Лобби
  4.3 Игровой интерфейс
  4.4 Интерфейс глобальной карты
5. Игровой процесс
  4.1 Общая концепция
  4.2 Геймплей
  4.3 Юниты
  4.4 Здания
  4.5 Бой
  4.6 Мультиплеер
  4.7 Экономическая система
6. Пользовательские сценарии

---

## 1. Термины и определения

- **Игрок** – пользователь, вошедший в игру
- **Юнит** – управляемая боевая единица
- **Деревня** – база игрока на глобальной карте
- **Глобальная карта** – карта, показывающая расположение всех деревень игроков
- **Менеджмент деревни** – карта деревни игрока, на которой происходят сражения
- **Ратуша** – главное строение; при уничтожении которого признается поражение
- **Спавн** – место появления новой деревни на глобальной карте
- **Рейд** – нападение на деревню другого игрока
- **Монеты** – единственная игровая валюта

## 2. Цели и задачи

**Цель:** Разработать успешную MMO-стратегию с элементами PvP и строением базы.

**Задачи:**
1. Реализовать клиентскую часть проекта
2. Реализовать серверную часть проекта  
3. Создать глубокий, но доступный геймплей
4. Обеспечить стабильную работу мультиплеера
5. Протестировать работу приложения

## 3. Вход в игру 

### 3.1 Экран входа
Состоит из двух полей ввода:
1. Логин
2. Пароль

И кнопки:
1. "Войти"

### 3.2 Экран регистрации  
1. **Поле ввода "Логин"**
   - Валидация в реальном времени
   - Индикатор доступности логина

2. **Поле ввода "Пароль"**
   - Индикатор сложности пароля

3. **Поле ввода "Подтверждение пароля"**
   - Сравнение с исходным паролем
   - Визуальное подтверждение совпадения

4. **Кнопка "Зарегистрироваться"**
   - Активируется только при выполнении всех требований
   - Анимация процесса регистрации

### требования логина и пароля
**Требования к логину:**
- Длина: от 5 до 20 символов
- Допустимые символы: латинские буквы (a-z, A-Z), цифры (0-9), символы подчеркивания (_)
- Не должен начинаться с цифры или символа подчеркивания
- Не должен содержать пробелов и специальных символов (@, #, $, %)
- Должен быть уникальным (проверка на занятость в реальном времени)

**Требования к паролю:**
- Минимальная длина: 8 символов
- Обязательное использование символов разных регистров (A-Z, a-z)
- Обязательное наличие хотя бы одной цифры (0-9)
- Рекомендуется использование специальных символов (!@#$%^&*)
- Не должен содержать персональную информацию (логин, имя, дату рождения)

**Дополнительные элементы:**
   - Ссылка "Забыли пароль?" для восстановления доступа
   - Ссылка "Создать аккаунт" для перехода к регистрации
   - Чекбокс "Запомнить меня" для сохранения сессии

## 4. интерфейс

### 4.1 Главное меню
Кнопки:
1. Играть
2. Рейтинг
3. Настройки

### 4.2 Менеджмент деревни (Интерфейс управления деревней)

**Общее описание:**
Менеджмент деревни представляет собой игровое пространство , разделенное на три функциональные зоны равного размера (20×20 клеток каждая). Интерфейс обеспечивает полный контроль над развитием и защитой деревни.

**Структура карты:**

| Зона | Размер | Назначение | Особенности |
|------|--------|------------|-------------|
| **Зона строительства** | 29×29 клеток | Размещение зданий и оборонительных сооружений | - Сетка с визуальным выделением клеток - Подсветка доступных/недоступных позиций - Визуализация радиуса действия оборонительных сооружений |
| **Зона размещения юнитов** | 29×29 клеток | Формирование и позиционирование армии | - Разделение на секторы для разных типов юнитов - Индикация вместимости каждого сектор - Визуальное отображение готовности юнитов |
| **Зона появления врагов** | 29×29 клеток |нападающий игрок может раставлять свои войска|

**Элементы интерфейса:**

1. **Панель строительства**
   - Категории зданий:  Оборона
   - Визуальные иконки с отображением стоимости и требований
   - Информация о времени строительства и улучшения

2. **Панель управления юнитами**
   - зажав правую кнопку мыши и обведя юнитов,можно их выделить и дать дальнейшие указания 
   - Список доступных типов юнитов с характеристиками
   - Кнопки найма/тренировки с указанием времени и стоимости
   - после найма/тренировки юнита он должен появляться в **Зона размещения юнитов**

3. **Информационная панель**
   - Текущий баланс ресурсов (монеты)
   - Лимиты строительства и вместимости
   - Таймеры текущих действий (строительство, тренировка)

4. **Инструменты навигации**
   - Приближение/отдаление камеры
   - Вращение вида на 90°/180°/270°
   - Режим сетки (вкл/выкл)
   - Кнопка быстрого сохранения расположения 

**Функциональные возможности:**

- **Система размещения объектов:**
  - перетаскивание, размещение зданий и юнитов
  - Автоматическое выравнивание по сетке
  - Валидация позиций (проверка на пересечения)
  - Предпросмотр занимаемого места

- **Управление обороной:**
  - Расстановка оборонительных сооружений по периметру
  - Настройка приоритетов целей для башен
  - Тестовый режим проверки обороны

- **Оптимизация пространства:**
  - Шаблоны и пресеты для быстрой застройки
  - Система закладок для различных конфигураций(механизм, позволяющий игроку быстро сохранять и переключаться между несколькими заранее подготовленными вариантами расстановки зданий и юнитов на своей базе.)

**Визуальные элементы:**
- Цветовая дифференциация зон (строительство - синие тона, армия - красные тона)
- подсказки при наведении на объекты
- Интерактивные тултипы с детальной информацией
- Эффекты выделения и подсветки активных элементов(визуальные подсказки в интерфейсе, которые помогают игроку быстро понимать, с каким объектом он взаимодействует, что можно с ним сделать и в каком состоянии он находится.)

**Технические требования:**
- Поддержка разрешения от 1280×720
- ФПС: стабильные 60 FPS
- Время отклика интерфейса: < 100 мс
- Поддержка горячих клавиш для основных операций

### 4.3 Игровой интерфейс(с мишей)
Информация о:
1. Текущем количестве монет
2. Здоровье юнитов
3. Времени похода
4. Текущих зданиях

### 4.4 Интерфейс глобальной карты

**Общее описание:**
Глобальная карта представляет собой игровое пространство, отображающее расположение всех деревень игроков. Карта реализована в виде сетки (матрицы) с клеточным разделением.

**Структура и визуализация:**
- Отображение всех деревень игроков в виде значков/иконок
- Сетка с четким клеточным разделением (квадратные клетки)
- Визуальное выделение собственной деревни игрока
- Различные статусы деревень (онлайн/оффлайн, под атакой, новичок)


**Функциональные элементы интерфейса:**

1. **Панель навигации**
   - Приближение/отдаление карты
   - Перемещение по карте (перетаскивание)
   - Кнопка быстрого перехода к своей деревне
   - Фильтры отображения (все игроки, только онлайн)

2. **Панель информации о цели**
   - Отображение информации о выбранной деревне (никнейм владельца, количество побед/поражений)
   - Кнопка "Атаковать"
   - Визуализация времени доступа к цели (если применимо)

3. **Панель управления армией**
   - Отображение текущего состава отправляемой армии
   - Расчет и отображение стоимости похода
   - Таймер перемещения армии
   - Кнопка отмены/перенаправления похода

**Ключевые функциональные возможности:**

- **Система перемещения армии:**
  - Перемещение армии в реальном времени по клеткам карты
  - Визуализация маршрута движения
  - Возможность переназначения цели атаки до столкновения
  - Отображение времени в пути

- **Логистика и снабжение:**
  - Динамический расчет стоимости содержания армии в походе
  - Визуальное предупреждение о недостатке ресурсов
  - Автоматическая остановка армии при исчерпании монет

- **Механика размещения новых игроков:**
  - Автоматический подбор места спавна с минимальным расстоянием от существующих игроков
  - Защищенная зона для новичков (невозможность атаки в течение начального периода)

**Визуальные элементы:**
- Эффекты выделения при наведении на объекты
- Интерактивные подсказки с базовой информацией

**Технические требования:**
- Поддержка одновременного отображения 100+ объектов на карте
- Время отклика на действия: < 200 мс
- Плавная анимация перемещения камеры и объектов
- Оптимизация для работы в браузере

**Особенности геймплея:**
- Возможность отмены похода до момента боевого столкновения
- Система приоритетов целей (слабые/сильные противники)
- Визуализация текущих атак на другие деревни
- Ограничение на частоту атак на одного игрока

## 5. Игровой процесс

### 5.1 Общая концепция
Браузерная MMO-стратегия с элементами PvP и Tower Defense. Игроки развивают деревни, собирают армии и сражаются друг с другом.

### 5.2 Геймплей
Игрок запускает игру в браузере, входит или регистрируется. В главном меню выбирает "Играть", попадает в лобби где выбирает юнитов и начинает атаку.

### 5.3 Юниты

| Тип | Здоровье | Урон | Скорость | Стоимость | Особенности |
|-----|----------|------|----------|-----------|-------------|
| Быстрый | Низкое | Низкий | Высокая | Низкая | Разведка, быстрые атаки |
| Тяжёлый | Высокое | Средний | Низкая | Высокая | Танк, прикрытие |
| Лох | Очень низкое | Очень низкий | Средняя | Очень низкая | Массовая пехота |

### 5.4 Здания

| Тип | Назначение | Размер | Прочность | Особенности |
|-----|------------|--------|-----------|-------------|
| Ратуша | Главное здание | 2×2 | Высокая | Поражение при уничтожении |
| Шахта | Добыча монет | 2×2 | Средняя | Неиссякаемый источник |
| Стены | Защита | 1×1 | Высокая | Замедление врагов |
| Башни | Защита | 1×1 | Средняя | Атака врагов |
| Казармы | Производство юнитов | 2×2 | Средняя | Открытие новых юнитов |

### 5.5 Бой
Бой начинается при атаке деревни. Нападающий выбирает цели для юнитов. Цель - уничтожить ратушу. При неудачной атаке армия возвращается на базу.

### 5.6 Мультиплеер
Игроки могут атаковать деревни друг друга. За успешные атаки начисляется рейтинг.

### 5.7 Экономическая система
- Единственный ресурс: монеты
- Источник: шахта (1 на деревню)
- Расходы: строительство, содержание армии, улучшения

## 6. Пользовательские сценарии

**Вход в игру:**
1. Пользователь вводит логин и пароль
2. Нажимает "Войти"
3. Попадает в главное меню

**Регистрация:**
1. Пользователь вводит данные
2. Нажимает "Зарегистрироваться"
3. Система создает аккаунт

**Запуск атаки:**
1. В лобби выбирает юнитов
2. Нажимает "Атака"
3. Выбирает цель на глобальной карте
4. Отправляет армию

**Защита деревни:**
1. При атаке игрок может нажать "Взять управление"
2. Вручную управляет обороной
3. Старается защитить ратушу